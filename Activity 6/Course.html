<!doctype html>
<html>
    <head>
        <title>Course Change Scramble</title>
        <link href="js-parsons/parsons.css" rel="stylesheet" />
        <link href="js-parsons/lib/prettify.css" rel="stylesheet" />
        <script src="js-parsons/lib/prettify.js"></script>
    </head>
    <style>
        #instructions { width: 6in; }
    </style>
    <body>
        <h2>Code Scramble: Course Change</h2>

<div id="instructions">
       
<p>Consider the following html:</p>

<pre>
    &lt;p&gt;&lt;label for&#x3D;&quot;course_input&quot;&gt;Courses &lt;&#x2F;label&gt;&lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;course_input&quot;&gt;&lt;&#x2F;p&gt;
    &lt;p id&#x3D;&quot;results&quot;&gt;Show Results&lt;&#x2F;p&gt;
    &lt;p&gt;&lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;Click!&quot; id&#x3D;&quot;showButton&quot;&gt;&lt;&#x2F;p&gt;
</pre>

<p>Arrange lines of JS code in the right-hand box so that the code changes the
    color of the Demo Text to whatever color is specified in the text box. Note
    that one line of code is not used for the solution.
</p>

</div>

        <div id="sortableTrash" class="sortable-code"></div>
        <div id="sortable" class="sortable-code">
        </div>
        <div style="clear:both;"></div>
        <p>
            <a href="#" id="newInstanceLink">New instance</a>
            <a href="#" id="feedbackLink">Get feedback</a>
        </p>
        <script src="js-parsons/lib/jquery.min.js"></script>
        <script src="js-parsons/lib/jquery-ui.min.js"></script>
        <script src="js-parsons/lib/jquery.ui.touch-punch.min.js"></script>
        <script src="js-parsons/lib/underscore-min.js"></script>
        <script src="js-parsons/lib/lis.js"></script>
        <script src="js-parsons/parsons.js"></script>
        <script>
          var initial = "const btn &#x3D; document.getElementById(&#39;showButton&#39;);\n" +
          "btn.addEventListener(&quot;click&quot;, change);\n" +
          "function change() {\n" +
          "    let result_area &#x3D; document.querySelector(&#39;#results&#39;);\n" +
          "    let course_input &#x3D; document.querySelector(&quot;#course_input&quot;).value;\n" +
          "    result_area.innerHTML +&#x3D; &quot;&lt;br&gt;&quot; + course_input;\n" +
          "}\n" +
          "	result_area.innerHTML &#x3D; course_input; #distractor";


        function displayErrors(fb) {
            if(fb.errors.length > 0) {
                alert(fb.errors[0]);
            }
        } 

        $(document).ready(function(){
            var parson = new ParsonsWidget({
                "max_wrong_lines": 10,
                "grader": ParsonsWidget._graders.LineBasedGrader,
                "exec_limit": 2500,
                "can_indent": true,
                "x_indent": 50,
                "lang": "en",
                "show_feedback": true,
                "trashId": "sortableTrash",
                'sortableId': 'sortable',
                'max_wrong_lines': 1,
                'feedback_cb' : displayErrors
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function(event){
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function(event){
                event.preventDefault();
                parson.getFeedback();
            });
        });
        </script>
    </body>
</html>

